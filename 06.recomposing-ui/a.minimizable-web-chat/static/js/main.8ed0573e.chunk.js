(this["webpackJsonpsample-customization-minimizable-web-chat"]=this["webpackJsonpsample-customization-minimizable-web-chat"]||[]).push([[0],{1605:function(e,t){},1606:function(e,t){},1607:function(e,t){},1722:function(e,t,n){},1723:function(e,t,n){},1724:function(e,t,n){},1725:function(e,t,n){},1727:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(162),r=n.n(o),s=(n(699),n(58)),i=n.n(s),l=n(339),u=n(125),m=n(11),b=n.n(m),f=n(107),p=n.n(f),h=(n(1722),function(e){var t=e.className,n=e.onFetchToken,o=e.store,r=e.token,s=Object(a.useMemo)((function(){return Object(f.createDirectLine)({token:r})}),[r]),i=Object(a.useMemo)((function(){return Object(f.createStyleSet)({backgroundColor:"Transparent"})}),[]);return Object(a.useEffect)((function(){n()}),[n]),r?c.a.createElement(p.a,{className:"".concat(t||""," web-chat"),directLine:s,store:o,styleSet:i}):c.a.createElement("div",{className:"".concat(t||""," connect-spinner")},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"icon"},c.a.createElement("span",{className:"ms-Icon ms-Icon--Robot"})),c.a.createElement("p",null,"Please wait while we are connecting.")))}),d=(n(1723),n(1724),function(){var e=Object(a.useMemo)((function(){return Object(f.createStore)({},(function(e){var t=e.dispatch;return function(e){return function(n){return"DIRECT_LINE/CONNECT_FULFILLED"===n.type?t({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/join",value:{language:window.navigator.language}}}):"DIRECT_LINE/INCOMING_ACTIVITY"===n.type&&"bot"===n.payload.activity.from.role&&N(!0),e(n)}}}))}),[]),t=Object(a.useMemo)((function(){return Object(f.createStyleSet)({backgroundColor:"Transparent"})}),[]),n=Object(a.useState)(!1),o=Object(u.a)(n,2),r=o[0],s=o[1],m=Object(a.useState)(!0),p=Object(u.a)(m,2),d=p[0],E=p[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),w=O[0],N=O[1],k=Object(a.useState)("right"),I=Object(u.a)(k,2),g=I[0],v=I[1],C=Object(a.useState)(),S=Object(u.a)(C,2),y=S[0],T=S[1],x=Object(a.useCallback)(Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=9;break}return e.next=3,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.token,T(a);case 9:case"end":return e.stop()}}),e)}))),[T,y]),z=Object(a.useCallback)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),E(!1),N(!1);case 3:case"end":return e.stop()}}),e)}))),[E,N]),M=Object(a.useCallback)((function(){E(!0),N(!1)}),[E,N]),L=Object(a.useCallback)((function(){v("left"===g?"right":"left")}),[v,g]);return c.a.createElement("div",{className:"minimizable-web-chat"},d&&c.a.createElement("button",{className:"maximize",onClick:z},c.a.createElement("span",{className:y?"ms-Icon ms-Icon--MessageFill":"ms-Icon ms-Icon--Message"}),w&&c.a.createElement("span",{className:"ms-Icon ms-Icon--CircleShapeSolid red-dot"})),r&&c.a.createElement("div",{className:b()("left"===g?"chat-box left":"chat-box right",d?"hide":"")},c.a.createElement("header",null,c.a.createElement("div",{className:"filler"}),c.a.createElement("button",{className:"switch",onClick:L},c.a.createElement("span",{className:"ms-Icon ms-Icon--Switch"})),c.a.createElement("button",{className:"minimize",onClick:M},c.a.createElement("span",{className:"ms-Icon ms-Icon--ChromeMinimize"}))),c.a.createElement(h,{className:"react-web-chat",onFetchToken:x,store:e,styleSet:t,token:y})))}),E=n(690),j=n.n(E),O=(n(1725),function(){return c.a.createElement("div",{className:"App"},c.a.createElement("img",{alt:"product background",src:j.a}),c.a.createElement(d,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},344:function(e,t){},345:function(e,t){},689:function(e,t){},690:function(e,t,n){e.exports=n.p+"static/media/WebPage.d6d7485a.jpg"},694:function(e,t,n){e.exports=n(1727)},699:function(e,t,n){},863:function(e,t){},865:function(e,t){},908:function(e,t){},909:function(e,t){},953:function(e,t){},955:function(e,t){}},[[694,1,2]]]);
//# sourceMappingURL=main.8ed0573e.chunk.js.map